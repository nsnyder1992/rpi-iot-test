Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Traceback (most recent call last):
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/azure/iot/device/iothub/aio/async_clients.py", line 33, in handle_result
    return await callback.completion()
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/azure/iot/device/common/async_adapter.py", line 94, in completion
    return await self.future
azure.iot.device.common.pipeline.pipeline_exceptions.OperationCancelled: OperationCancelled('Transport timeout on connection operation')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "venv/bin/flask", line 10, in <module>
    sys.exit(main())
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/flask/cli.py", line 967, in main
    cli.main(args=sys.argv[1:], prog_name="python -m flask" if as_module else None)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/flask/cli.py", line 586, in main
    return super(FlaskGroup, self).main(*args, **kwargs)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/core.py", line 782, in main
    rv = self.invoke(ctx)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/core.py", line 1259, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/core.py", line 1066, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/core.py", line 610, in invoke
    return callback(*args, **kwargs)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/decorators.py", line 21, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/flask/cli.py", line 426, in decorator
    return __ctx.invoke(f, *args, **kwargs)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/click/core.py", line 610, in invoke
    return callback(*args, **kwargs)
  File "/home/pi/projects/iot/app/__init__.py", line 17, in run_send
    asyncio.run(send_to_azure())
  File "/usr/lib/python3.7/asyncio/runners.py", line 43, in run
    return loop.run_until_complete(main)
  File "/usr/lib/python3.7/asyncio/base_events.py", line 584, in run_until_complete
    return future.result()
  File "/home/pi/projects/iot/app/__init__.py", line 27, in send_to_azure
    await device_client.connect()
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/azure/iot/device/aio/patch_documentation.py", line 14, in connect
    return await super(IoTHubDeviceClient_, self).connect()
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/azure/iot/device/iothub/aio/async_clients.py", line 144, in connect
    await handle_result(callback)
  File "/home/pi/projects/iot/app/venv/lib/python3.7/site-packages/azure/iot/device/iothub/aio/async_clients.py", line 51, in handle_result
    raise exceptions.ClientError(message="Unexpected failure", cause=e)
azure.iot.device.exceptions.ClientError: ClientError('Unexpected failure') caused by OperationCancelled('Transport timeout on connection operation')
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
Sending message...
Message successfully sent!
